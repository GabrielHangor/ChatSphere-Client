import{l as w,r as V,i as N,aQ as v,aR as z,aS as t,aT as a,aU as e,c as d,aW as g,aV as B,b2 as M,b3 as F,aX as R}from"./index-83b33c1a.js";import{v as A,s as E,_ as I,w as L,q as P,x as Q,y as u,z as p,A as _,B as T,C as q}from"./index.esm-389e4d5f.js";import{U as j}from"./UserService-d4fb0b3f.js";import{u as D}from"./use-notification-3115ba7f.js";const H=g("h2",{class:"text-center py-5"},"Sign Up",-1),W={class:"text-center"},X=w({__name:"SignUpForm",setup($){const{error:m,isLoading:c,fetch:b}=A(j.createUser),h=M(),f=D(),r=V({username:"Hangor",email:"gaba2234@ya.ru",password:"Qwerty123",passwordConfirm:"Qwerty123"}),y=async()=>{if(c.value||!await s.value.$validate())return;const{passwordConfirm:o,...l}=r.value;await b(l),m.value?f.error({content:"Error while creating new user",meta:m.value,duration:3e3}):(f.success({content:"Success",duration:2500}),setTimeout(()=>h.push("/"),2500))},k=N(()=>({username:{required:u,usernameValidation:p.withMessage("Minimum 3 symbols length",_(3))},email:{required:u,email:T},password:{required:u,passwordValidation:p.withMessage("Minimum 8 symbols length",_(8))},passwordConfirm:{required:u,confirmPasswordValidation:p.withMessage("Passwords do not match",q(r.value.password))}})),s=E(k,r,{$autoDirty:!0});return(U,o)=>{const l=I,i=L,C=P,x=F("RouterLink"),S=Q;return v(),z(S,{onSubmit:B(y,["prevent"]),class:"w-full mt-10 md:mt-0 md:w-[350px] p-5 shadow-xl rounded-md"},{default:t(()=>[H,a(i,{size:"large",label:"Username",feedback:e(e(s).username.$errors[0]?.$message),"validation-status":e(s).username.$errors[0]?.$message?"error":"success"},{default:t(()=>[a(l,{placeholder:"Username",clearable:"",autofocus:"",value:r.value.username,"onUpdate:value":o[0]||(o[0]=n=>r.value.username=n),status:e(s).username.$errors[0]?.$message?"error":"success"},null,8,["value","status"])]),_:1},8,["feedback","validation-status"]),a(i,{size:"large",label:"Email",feedback:e(e(s).email.$errors[0]?.$message),"validation-status":e(s).email.$errors[0]?.$message?"error":"success"},{default:t(()=>[a(l,{placeholder:"Email",clearable:"",value:r.value.email,"onUpdate:value":o[1]||(o[1]=n=>r.value.email=n),status:e(s).email.$errors[0]?.$message?"error":"success"},null,8,["value","status"])]),_:1},8,["feedback","validation-status"]),a(i,{size:"large",label:"Password",feedback:e(e(s).password.$errors[0]?.$message),"validation-status":e(s).password.$errors[0]?.$message?"error":"success"},{default:t(()=>[a(l,{type:"password",placeholder:"Password","show-password-on":"click",clearable:"",value:r.value.password,"onUpdate:value":o[2]||(o[2]=n=>r.value.password=n),status:e(s).password.$errors[0]?.$message?"error":"success"},null,8,["value","status"])]),_:1},8,["feedback","validation-status"]),a(i,{size:"large",label:"Confirm password",feedback:e(e(s).passwordConfirm.$errors[0]?.$message),"validation-status":e(s).passwordConfirm.$errors[0]?.$message?"error":"success"},{default:t(()=>[a(l,{type:"password",placeholder:"Confirm password","show-password-on":"click",clearable:"",value:r.value.passwordConfirm,"onUpdate:value":o[3]||(o[3]=n=>r.value.passwordConfirm=n),status:e(s).passwordConfirm.$errors[0]?.$message?"error":"success"},null,8,["value","status"])]),_:1},8,["feedback","validation-status"]),a(i,null,{default:t(()=>[a(C,{size:"large",block:"",type:"primary","attr-type":"submit",loading:e(c)},{default:t(()=>[d(" Sign Up ")]),_:1},8,["loading"])]),_:1}),g("p",W,[d(" Already have an account? "),a(x,{to:"/signIn",class:"underline-offset-4"},{default:t(()=>[d("Sign In")]),_:1})])]),_:1},8,["onSubmit"])}}}),G={class:"container min-h-screen flex flex-col items-center md:justify-center"},Z=w({__name:"SignUpScreen",setup($){return(m,c)=>(v(),R("div",G,[a(X)]))}});export{Z as default};
